(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},132:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},147:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(28),s=n.n(c),r=(n(90),n(4)),i=(n(42),n(8)),l=(n(91),n(9)),o=n(79),j=(n(92),n(0)),d=function(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),c=n[0],s=n[1],i=e.displayPlants,l=e.changeToggle,d=e.toggle,b=function(e){s("")};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(o.a,{className:"searchbar__input rounded-pill",type:"search",placeholder:"\ud83d\udd0d Search for a plant","aria-label":"Search",value:c,onChange:function(e){return function(e){var t=e.target.value;s(t),i(t),setTimeout((function(){b(c),l(d)}),5e3)}(e)}})})},b=n(160),u=n(152),O=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b.a.Link,{className:"navbar__large navbar__large__text text-light",as:l.b,to:"/login",children:"Sign in"}),Object(j.jsxs)("div",{className:"navbar__collapsed",children:[Object(j.jsx)(u.a.Divider,{}),Object(j.jsx)(b.a.Link,{className:"navbar__collapsed__text text-light",as:l.b,to:"/login",children:"Sign in"})]})]})},h=n(17),m=n(18),x=n.n(m),g=function e(){var t=this;Object(h.a)(this,e),this.getPlants=function(){return t.instance.get("/")},this.getPlant=function(e){return t.instance.get("/".concat(e))},this.createPlant=function(e){return t.instance.post("/",e)},this.deletePlant=function(e){return t.instance.delete("/".concat(e))},this.editPlant=function(e,n){return t.instance.put("/".concat(e),n)},this.instance=x.a.create({baseURL:"".concat("https://plantb.herokuapp.com/api","/plant"),withCredentials:!0})},p=function e(){var t=this;Object(h.a)(this,e),this.getCart=function(e){return t.instance.get("/".concat(e))},this.createCart=function(e){return t.instance.post("/",e)},this.editCart=function(e,n){return t.instance.put("/".concat(e),{plantId:n})},this.removeItem=function(e,n){return t.instance.put("/delete/".concat(e),{plantId:n})},this.instance=x.a.create({baseURL:"".concat("https://plantb.herokuapp.com/api","/cart"),withCredentials:!0})},f=n(159),v=function e(){var t=this;Object(h.a)(this,e),this.signup=function(e,n,a,c,s,r){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";return t.instance.post("/signup",{username:e,password:n,email:a,address:c,age:s,role:r,avatar:i})},this.login=function(e,n){return t.instance.post("/login",{username:e,password:n})},this.logout=function(){return t.instance.get("/logout")},this.isloggedin=function(){return t.instance.post("/isloggedin")},this.instance=x.a.create({baseURL:"".concat("https://plantb.herokuapp.com/api","/auth"),withCredentials:!0})},N=(n(123),function(e){var t=new v,n=function(){t.logout().then((function(){return e.storeUser(void 0)})).catch((function(e){return console.log(e)}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(u.a,{className:"navbar__large",title:Object(j.jsxs)(f.a.Text,{children:["Welcome,",Object(j.jsxs)("a",{href:"#/",children:[" ",e.loggedUser.username," "]}),Object(j.jsx)("img",{alt:"user avatar",className:"navbar__avatar rounded-circle",src:e.loggedUser.avatar})]}),id:"collasible-nav-dropdown",children:[Object(j.jsx)(u.a.Item,{as:l.b,to:"/".concat(e.loggedUser.username),children:"My profile"}),Object(j.jsx)(u.a.Item,{as:l.b,to:"/message-list/".concat(e.loggedUser._id),children:"Messages"}),Object(j.jsx)(u.a.Item,{as:l.b,to:"/plants",children:"Checkout our plants"}),Object(j.jsx)(u.a.Item,{as:l.b,to:"/new-plant",children:"Add a plant"}),Object(j.jsx)(u.a.Item,{as:l.b,to:"/new-comment",children:"Add a comment"}),Object(j.jsx)(u.a.Divider,{}),Object(j.jsx)(u.a.Item,{as:l.b,to:"/",onClick:n,children:"Logout"})]}),Object(j.jsxs)("div",{className:"navbar__collapsed",children:[Object(j.jsx)(u.a.Divider,{}),Object(j.jsx)(b.a.Link,{className:"navbar__collapsed__text",as:l.b,to:"/".concat(e.loggedUser.username),children:"My profile"}),Object(j.jsx)(u.a.Divider,{}),Object(j.jsx)(b.a.Link,{className:"navbar__collapsed__text",as:l.b,to:"/message-list/".concat(e.loggedUser._id),children:"Messages"}),Object(j.jsx)(u.a.Divider,{}),Object(j.jsx)(b.a.Link,{className:"navbar__collapsed__text",as:l.b,to:"/new-plant",children:"Sell a plant"}),Object(j.jsx)(u.a.Divider,{}),Object(j.jsx)(b.a.Link,{className:"navbar__collapsed__text",as:l.b,to:"/",onClick:n,children:"Logout"})]})]})}),y=n(34),C=(n(124),function(e){var t=e.plant;return t?Object(j.jsx)(y.a.Item,{as:l.b,to:"/plant/".concat(t._id),children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-3",children:Object(j.jsx)("img",{src:t.image,alt:t.name})}),Object(j.jsx)("div",{className:"col-7",children:Object(j.jsx)("p",{children:t.name})}),Object(j.jsx)("div",{className:"col-2",children:Object(j.jsxs)("p",{children:["\u20ac",t.price]})})]})}):Object(j.jsx)("p",{children:"Loading......"})}),S=n(153),_=n.p+"static/media/logo.88e3a3cb.svg",w=n(39),k=function(e){var t=new p,n=Object(a.useState)([]),c=Object(r.a)(n,2),s=c[0],o=c[1],u=Object(a.useState)([]),h=Object(r.a)(u,2),m=h[0],x=h[1],v=Object(a.useState)(!1),k=Object(r.a)(v,2),I=k[0],U=k[1],L=Object(a.useState)(!1),F=Object(r.a)(L,2),P=F[0],D=F[1],E=Object(a.useState)(0),G=Object(r.a)(E,2),T=G[0],z=G[1];Object(a.useEffect)((function(){var e=new g;M(),e.getPlants().then((function(e){return x(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(a.useEffect)((function(){P&&0!==s.length?U(!0):U(!1)}),[s,P]),Object(a.useEffect)((function(){return M()}));var M=function(){var n;t.getCart(null===(n=e.loggedUser)||void 0===n?void 0:n.cart).then((function(e){return e.data.items.length&&z(e.data.items.length)})).catch((function(e){return console.log(e)}))};return Object(j.jsx)(f.a,{className:"navbar fixed-top",collapseOnSelect:!0,expand:"lg",variant:"dark",children:Object(j.jsxs)(S.a,{children:[Object(j.jsxs)(f.a.Brand,{className:"navbar__logo",as:l.b,to:"/",children:[Object(j.jsx)("img",{alt:"logo",src:_})," Plant B"]}),Object(j.jsx)(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(j.jsxs)(f.a.Collapse,{id:"responsive-navbar-nav",children:[Object(j.jsx)(b.a,{className:"m-auto",children:Object(j.jsxs)(y.a,{className:"d-inline mx-2 ",autoclose:"inside",show:I,onBlur:function(e){return e.target.value=""},onToggle:function(e,t,n){0===s.length?U(!1):(e||"button"!==t.target.type)&&U(e)},children:[Object(j.jsx)(y.a.Toggle,{className:"navbar__toggle",id:"dropdown-autoclose-inside",children:Object(j.jsx)(d,{toggle:I,changeToggle:function(e){e&&U(!1)},displayPlants:function(e){e&&e.length>0?D(!0):D(!1);var t=m.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));o(t)}})}),Object(j.jsx)(y.a.Menu,{className:"dropdown__menu",children:s.length>0&&s.map((function(e){return Object(j.jsx)(l.b,{to:"/plant/".concat(e._id),children:Object(j.jsx)(C,{plant:e},e._id)})}))})]})}),e.loggedUser?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(f.a.Brand,{className:"navbar__cart my-0 mx-5",as:l.b,to:"/cart",children:Object(j.jsxs)("p",{children:[Object(j.jsx)(w.a,{}),"\xa0 ( ",T," )"]})}),Object(j.jsxs)(b.a.Link,{className:"navbar__cart__collapsed",as:l.b,to:"/cart",children:["Cart \xa0 ( ",T," )"]}),Object(j.jsx)(b.a,{children:Object(j.jsx)(N,Object(i.a)({},e))})]}):Object(j.jsx)(O,{})]})]})})},I=n(154),U=n(83),L=n.p+"static/media/homepage_plant.174b6a00.png",F=n.p+"static/media/about_us_image.d34c4d2c.png",P=(n(125),n(126),n(64)),D=function(){return Object(j.jsxs)("footer",{className:"mt-5 d-flex justify-content-center",children:[Object(j.jsx)(P.SocialIcon,{bgColor:"white",className:"m-2",target:"_blank",network:"twitter",url:"https://github.com/alberto-massa/PlantB"}),Object(j.jsx)(P.SocialIcon,{bgColor:"white",className:"m-2",target:"_blank",network:"facebook",url:"https://github.com/alberto-massa/PlantB"}),Object(j.jsx)(P.SocialIcon,{bgColor:"white",className:"m-2",target:"_blank",network:"instagram",url:"https://github.com/alberto-massa/PlantB"})]})},E=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(S.a,{className:"homepage mt-5 mb-5",children:Object(j.jsxs)(I.a,{className:"homepage__row justify-content-center align-items-center",children:[Object(j.jsx)(U.a,{xs:!1,md:!1,lg:1}),Object(j.jsxs)(U.a,{className:"homepage__col__text",xs:12,md:12,lg:5,children:[Object(j.jsx)("h1",{children:"Plant B"}),Object(j.jsx)("h3",{children:"Your favorite plant's shop in your neighborhood \ud83c\udf31"}),Object(j.jsx)("p",{children:"Plants reduce stress levels and boost your mood - making them perfect for your home and your work space, too."}),Object(j.jsx)(l.b,{to:"/plants",children:Object(j.jsx)("button",{className:"homepage__btn",children:"Check the latest plants"})})]}),Object(j.jsx)(U.a,{xs:12,md:12,lg:5,children:Object(j.jsx)("img",{alt:"plant",src:L})}),Object(j.jsx)(U.a,{xs:!1,md:!1,lg:1})]})}),Object(j.jsx)("br",{}),Object(j.jsx)(S.a,{className:"about mt-3",children:Object(j.jsxs)(I.a,{className:"justify-content-center align-items-center",children:[Object(j.jsx)(U.a,{xs:!1,md:!1,lg:1}),Object(j.jsx)(U.a,{xs:12,md:12,lg:5,children:Object(j.jsx)("img",{className:"rounded-circle",alt:"plant",src:F})}),Object(j.jsxs)(U.a,{className:"",xs:12,md:12,lg:5,children:[Object(j.jsx)("h2",{children:"About us"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("del",{children:"We are 2 junior web developers doing a project--"})," We love plants, and we wanted to make them accessible to everyone, as easy as possible, so we created this community."]})]}),Object(j.jsx)(U.a,{xs:!1,md:!1,lg:1})]})}),Object(j.jsx)(D,{})]})},G=n(158),T=n(82),z=function(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),o=Object(r.a)(i,2),d=o[0],b=o[1],u=Object(a.useState)(""),O=Object(r.a)(u,2),h=O[0],m=O[1],x=new v,g=function(e){var t=e.target,n=t.name,a=t.value;"username"===n?s(a):b(a)};return Object(j.jsx)(S.a,{className:"login",children:Object(j.jsx)(I.a,{className:"mt-5 d-flex justify-content-center",children:Object(j.jsxs)(U.a,{xs:8,sm:8,lg:6,children:[Object(j.jsxs)(G.a,{className:"container",onSubmit:function(t){t.preventDefault(),x.login(c,d).then((function(t){e.storeUser(t.data),e.history.push("/")})).catch((function(e){m(e.response.data.message),setTimeout((function(){return m(void 0)}),2500)}))},children:[Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"username",children:[Object(j.jsx)(G.a.Label,{children:"Username"}),Object(j.jsx)(G.a.Control,{className:"rounded-pill",name:"username",value:c,onChange:function(e){return g(e)},type:"text",placeholder:"Enter username"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"password",children:[Object(j.jsx)(G.a.Label,{children:"Password"}),Object(j.jsx)(G.a.Control,{className:"rounded-pill",name:"password",value:d,onChange:function(e){return g(e)},type:"password",placeholder:"Password"})]}),Object(j.jsx)("div",{className:"d-grid gap-2",children:Object(j.jsx)(T.a,{variant:"success",type:"submit",className:"rounded-pill",children:"Submit"})})]}),h&&Object(j.jsx)("p",{id:"errorMessage",children:h}),Object(j.jsxs)("p",{className:"text-center mt-4",children:["Not registered? ",Object(j.jsx)(l.b,{to:"/register",children:"Sign up"})]})]})})})},M=n(155),B=function e(){var t=this;Object(h.a)(this,e),this.uploadImg=function(e){return t.instance.post("/image",e)},this.instance=x.a.create({baseURL:"".concat("https://plantb.herokuapp.com/api","/uploads")})},R=(n(132),n(84)),A=n.n(R),W=n(68).formatSignDate,Y=new v,H=new B,J=function(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),l=Object(r.a)(i,2),o=l[0],d=l[1],b=Object(a.useState)(""),u=Object(r.a)(b,2),O=u[0],h=u[1],m=Object(a.useState)(""),x=Object(r.a)(m,2),g=x[0],p=x[1],f=Object(a.useState)(0),v=Object(r.a)(f,2),N=v[0],y=v[1],C=Object(a.useState)(""),_=Object(r.a)(C,2),w=_[0],k=_[1],L=Object(a.useState)("https://res.cloudinary.com/dubhsyrde/image/upload/v1633536992/orl5czm2lgcz9a2fzkhu.svg"),F=Object(r.a)(L,2),P=F[0],D=F[1],E=Object(a.useState)(!1),z=Object(r.a)(E,2),B=z[0],R=z[1],J=Object(a.useState)(""),K=Object(r.a)(J,2),q=K[0],X=K[1],Q=function(e){var t=e.target,n=t.value,a=t.name;switch("radio"===t.type&&(n="true"===n),a){case"username":s(n);break;case"password":d(n);break;case"email":h(n);break;case"age":y(n);break;case"role":k(n);break;case"avatar":D(n)}};return Object(j.jsxs)(S.a,{className:"signup",children:[Object(j.jsx)(I.a,{className:"mt-3 d-flex justify-content-center",children:Object(j.jsxs)(U.a,{xs:6,sm:8,lg:6,children:[Object(j.jsx)(I.a,{children:Object(j.jsxs)(G.a.Group,{className:"mb-3 text-center",controlId:"avatar",children:[Object(j.jsx)("img",{className:"signup__avatar rounded-circle",alt:"default avatar",src:P}),Object(j.jsx)(G.a.Label,{className:"btn btn-outline-success rounded-pill",children:"Change picture"}),Object(j.jsx)(G.a.Control,{className:"form-control-hide",name:"avatar",onChange:function(e){return function(e){R(!0);var t=new FormData;t.append("imageData",e.target.files[0]),H.uploadImg(t).then((function(e){R(!1),D(e.data.cloudinary_url)})).catch((function(e){return alert("Error, image not uploaded",e)}))}(e)},type:"file"})]})}),Object(j.jsxs)(G.a,{onSubmit:function(t){t.preventDefault();var n="";n=w?"Shop":"User",Y.signup(c,o,O,g,N,n,P).then((function(t){e.storeUser(t.data.user),console.log(t),e.history.push("/")})).catch((function(e){X(e.response.data.message),setTimeout((function(){return X(void 0)}),2500),console.log(e)})),s(""),d(""),h(""),p(""),y(0),k(""),D("")},children:[Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"username",children:[Object(j.jsx)(G.a.Label,{children:"Username*"}),Object(j.jsx)(G.a.Control,{className:"rounded-pill",name:"username",value:c,onChange:function(e){return Q(e)},type:"text",placeholder:"Enter username"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"password",children:[Object(j.jsx)(G.a.Label,{children:"Password*"}),Object(j.jsx)(G.a.Control,{className:"rounded-pill",name:"password",value:o,onChange:function(e){return Q(e)},type:"password",placeholder:"Password"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"email",children:[Object(j.jsx)(G.a.Label,{children:"Email*"}),Object(j.jsx)(G.a.Control,{className:"rounded-pill",name:"email",value:O,onChange:function(e){return Q(e)},type:"email",placeholder:"Email"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"address",children:[Object(j.jsx)(G.a.Label,{children:"Address*"}),Object(j.jsx)(A.a,{className:"form-control rounded-pill",apiKey:"AIzaSyDCypPwR1KoDIi9rl9gXBHmYdhuRxAIff8",language:"en",name:"address",options:{types:["address"],fields:["(formatted_address)"],componentRestrictions:{country:"es"}},onPlaceSelected:function(e){p(e.name)}})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"age",children:[Object(j.jsx)(G.a.Label,{children:"Date of Birth*"}),Object(j.jsx)(G.a.Control,{className:"rounded-pill",name:"age",value:N,max:W(),onChange:function(e){return Q(e)},type:"date",placeholder:"Age"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"role",children:[Object(j.jsx)(G.a.Label,{children:"Are you a local store / company?"}),Object(j.jsxs)("div",{children:[Object(j.jsx)(G.a.Check,{inline:!0,label:"Yes",name:"role",type:"radio",id:"inline-radio-1",value:!0,onChange:function(e){return Q(e)}}),Object(j.jsx)(G.a.Check,{className:"success",defaultChecked:!0,inline:!0,label:"No",name:"role",type:"radio",id:"inline-radio-2",value:!1,onChange:function(e){return Q(e)}})]},"inline-radio")]}),Object(j.jsx)(I.a,{className:"justify-content-center mt-2 mb-2",children:B&&Object(j.jsx)(M.a,{animation:"border",variant:"success"})}),Object(j.jsx)("div",{className:"d-grid gap-2",children:Object(j.jsx)(T.a,{className:"rounded-pill",disabled:B,variant:"success",type:"submit",children:B?"Loading...":"Submit"})})]})]})}),q&&Object(j.jsx)("p",{id:"errorMessage",children:q})]})},K=(n(137),new function e(){var t=this;Object(h.a)(this,e),this.getUsers=function(){return t.instance.get("/")},this.getUser=function(e){return t.instance.get("/".concat(e))},this.editUser=function(e,n){return t.instance.put("/".concat(e),n)},this.createUser=function(e){return t.instance.post("/",e)},this.deleteUSer=function(e){return t.instance.delete("/".concat(e))},this.instance=x.a.create({baseURL:"".concat("https://plantb.herokuapp.com/api","/user"),withCredentials:!0})}),q=new B,X=function(e){e.props;var t=e.loggedUser,n=Object(a.useState)(t.username),c=Object(r.a)(n,2),s=c[0],i=c[1],l=Object(a.useState)(t.avatar),o=Object(r.a)(l,2),d=o[0],b=o[1],u=Object(a.useState)(t.email),O=Object(r.a)(u,2),h=O[0],m=O[1],x=Object(a.useState)(t.address),g=Object(r.a)(x,2),p=g[0],f=g[1],v=Object(a.useState)(!1),N=Object(r.a)(v,2),y=N[0],C=N[1],_=function(e){var t=e.target,n=t.value;switch(t.name){case"username":i(n);break;case"avatar":b(n);break;case"email":m(n);break;case"address":f(n)}};return Object(j.jsx)(j.Fragment,{children:t?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(S.a,{className:"profile",children:Object(j.jsx)(I.a,{className:"mt-5 d-flex justify-content-center",children:Object(j.jsxs)(U.a,{className:"profile__col",xs:8,sm:8,lg:6,children:[Object(j.jsx)("h1",{className:"text-center mt-2 mb-3",children:"Edit your profile"}),Object(j.jsxs)(G.a,{onSubmit:function(e){e.preventDefault(),console.log({username:s,avatar:d,email:h,address:p}),K.editUser(t._id,{username:s,avatar:d,email:h,address:p}).then((function(e){console.log(e),i(""),b(""),m(""),f("")})).catch((function(e){return console.error(e)}))},children:[Object(j.jsxs)(G.a.Group,{className:"mb-3 text-center",controlId:"avatar",children:[Object(j.jsx)("img",{className:"signup__avatar rounded-circle",alt:"default avatar",src:d}),Object(j.jsx)(G.a.Label,{className:"btn btn-outline-success rounded-pill",children:"Change picture"}),Object(j.jsx)(G.a.Control,{className:"form-control-hide",name:"avatar",onChange:function(e){return function(e){C(!0);var t=new FormData;t.append("imageData",e.target.files[0]),q.uploadImg(t).then((function(e){C(!1),b(e.data.cloudinary_url)})).catch((function(e){return alert("Error, image not uploaded ")}))}(e)},type:"file"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"name",children:[Object(j.jsx)(G.a.Label,{children:"Username: "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return _(e)},name:"username",value:s,type:"text",placeholder:t.username})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"name",children:[Object(j.jsx)(G.a.Label,{children:"Email "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return _(e)},name:"email",value:h,type:"text",placeholder:t.email})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"name",children:[Object(j.jsx)(G.a.Label,{children:"Address "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return _(e)},name:"address",type:"text",placeholder:t.address})]}),y&&Object(j.jsx)(M.a,{animtion:"border",variant:"success"}),Object(j.jsx)("div",{className:"d-grid gap-2",children:Object(j.jsx)(T.a,{disabled:y,variant:"success",type:"submit",className:"rounded-pill mb-3 mt-2 justify-content-center",children:y?"Loading...":"Submit changes"})})]})]})})})}):Object(j.jsx)("p",{children:"Loading..."})})},Q=n(40),V=(n(138),new g),Z=new B,$=function(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),l=Object(r.a)(i,2),o=l[0],d=l[1],b=Object(a.useState)(""),u=Object(r.a)(b,2),O=u[0],h=u[1],m=Object(a.useState)(""),x=Object(r.a)(m,2),g=x[0],p=x[1],f=Object(a.useState)(!1),v=Object(r.a)(f,2),N=v[0],y=v[1],C=Object(a.useState)([]),_=Object(r.a)(C,2),w=_[0],k=_[1],L=Object(a.useState)(0),F=Object(r.a)(L,2),P=F[0],D=F[1],E=Object(a.useState)(""),z=Object(r.a)(E,2),B=z[0],R=z[1],A=Object(a.useState)(0),W=Object(r.a)(A,2),Y=W[0],H=W[1],J=Object(a.useState)(3),K=Object(r.a)(J,2),q=K[0],X=K[1],$=Object(a.useState)(!1),ee=Object(r.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(""),ce=Object(r.a)(ae,2),se=ce[0],re=ce[1],ie=function(e){var t=e.target,n=t.value,a=t.name,c=t.type,r=Object(Q.a)(w);switch("location"===a&&e.target.checked&&r.push(n),"location"!==a||e.target.checked||r.splice(r.indexOf(n),1),"radio"===c&&(n="true"===n),a){case"name":s(n);break;case"avatar":d(n);break;case"size":h(n);break;case"type":p(n);break;case"toxic":y(n);break;case"location":k(r);break;case"price":H(n);break;case"temperature":D(n);break;case"watering":R(n);break;case"delivery":X(n)}};return Object(j.jsxs)(S.a,{className:"sell__form",children:[Object(j.jsx)("h1",{className:"text-center mb-3",children:"Sell a plant"}),Object(j.jsx)(I.a,{className:"justify-content-center d-flex",children:Object(j.jsx)(U.a,{className:"d-flex justify-content-center",children:Object(j.jsxs)(G.a,{onSubmit:function(t){t.preventDefault(),V.createPlant({name:c,image:o,description:{size:O,type:g,toxic:N,location:w,temperature:P,watering:B},sellerId:e.loggedUser,price:Y,delivery:q}).then((function(){s(""),d(""),h(""),p(""),y(!1),k([]),D(0),R(""),H(0),X(3)})).catch((function(e){console.log(e),re(e.response.data.message),setTimeout((function(){return re(void 0)}),2500)}))},children:[Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"name",children:[Object(j.jsx)(G.a.Label,{children:"Name*: "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return ie(e)},name:"name",value:c,type:"text",placeholder:"Plant's name"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"image",children:[Object(j.jsx)(G.a.Label,{children:"Image*: "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return function(e){ne(!0);var t=new FormData;t.append("imageData",e.target.files[0]),Z.uploadImg(t).then((function(e){ne(!1),d(e.data.cloudinary_url)})).catch((function(e){return alert("Error, image not uploaded ")}))}(e)},name:"image",type:"file",placeholder:"Plant's image"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"size",children:[Object(j.jsx)(G.a.Label,{children:"Size*: "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return ie(e)},name:"size",value:O,type:"text",placeholder:"Plant's sizes"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"toxic",children:[Object(j.jsx)(G.a.Label,{children:"Is it toxic for animals?*"}),["radio"].map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(G.a.Check,{inline:!0,label:"Yes",name:"toxic",type:"radio",id:"inline-".concat(e,"-1"),value:!0,onChange:function(e){return ie(e)}}),Object(j.jsx)(G.a.Check,{inline:!0,label:"No",name:"toxic",type:"radio",id:"inline-".concat(e,"-2"),value:!1,onChange:function(e){return ie(e)}})]},"inline-".concat(e))}))]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"location",children:[Object(j.jsx)(G.a.Label,{children:"Location?*"}),["checkbox"].map((function(e){return Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)(G.a.Check,{inline:!0,label:"Indoors",name:"location",type:e,id:"inline-".concat(e,"-1"),onChange:function(e){return ie(e)},value:"Indoors"}),Object(j.jsx)(G.a.Check,{inline:!0,label:"Outdoors",name:"location",type:e,id:"inline-".concat(e,"-2"),onChange:function(e){return ie(e)},value:"Outdoors"})]},"inline-".concat(e))}))]}),"Shop"===e.loggedUser.role&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"type",children:[Object(j.jsx)(G.a.Label,{children:"Type*: "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return ie(e)},name:"type",value:g,type:"text",placeholder:"Plant's type"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"temperature",children:[Object(j.jsx)(G.a.Label,{children:"Temperature*: "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return ie(e)},name:"temperature",value:P,type:"number",placeholder:"Temperature"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"watering",children:[Object(j.jsx)(G.a.Label,{children:"Watering*: "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return ie(e)},name:"watering",value:B,type:"text",placeholder:"Watering"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"delivery",children:[Object(j.jsx)(G.a.Label,{children:"Delivery time (days)*: "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return ie(e)},name:"delivery",value:q,type:"number",placeholder:"Indicate an average of days"})]})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"price",children:[Object(j.jsx)(G.a.Label,{children:"Price*: "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return ie(e)},name:"price",value:Y,type:"number",placeholder:"Price"}),"\u20ac"]}),te&&Object(j.jsx)(M.a,{animtion:"border",variant:"success"}),se&&Object(j.jsx)("p",{id:"errorMessage",children:se}),Object(j.jsx)("div",{className:"d-grid gap-2",children:Object(j.jsx)(T.a,{className:"rounded-pill",disabled:te,variant:"success",type:"submit",children:te?"Loading...":"Submit"})})]})})})]})},ee=n(12),te=function e(){var t=this;Object(h.a)(this,e),this.getComments=function(){return t.instance.get("/")},this.getComment=function(e){return t.instance.get("/".concat(e))},this.deleteComment=function(e){return t.instance.delete("/".concat(e))},this.createComment=function(e){return t.instance.post("/",e)},this.instance=x.a.create({baseURL:"".concat("https://plantb.herokuapp.com/api","/comment"),withCredentials:!0})},ne=(n(139),new te),ae=function(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(null),l=Object(r.a)(i,2),o=l[0],d=l[1],b=Object(a.useState)(null),u=Object(r.a)(b,2),O=u[0],h=u[1],m=function(e){var t=e.target,n=t.value;switch(t.name){case"content":s(n);break;case"rating":d(n)}};return Object(j.jsx)(S.a,{children:Object(j.jsx)(I.a,{children:Object(j.jsx)(U.a,{children:Object(j.jsxs)(G.a,{onSubmit:function(t){t.preventDefault();var n=e.loggedUser;ne.createComment({content:c,rating:o,authorId:n}).then((function(){s(""),d(0)})).catch((function(e){return console.log(e,"jgfkjhgkjghj")}))},children:[Object(j.jsx)("h1",{children:"Review this seller "}),Object(Q.a)(Array(5)).map((function(e,t){var n=t+1;return Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{id:"starRadio",type:"radio",name:"rating",value:n,onClick:function(e){return m(e)}}),Object(j.jsx)(w.b,{className:"star",color:n<=(O||o)?"#ffc107":"#e4e5e9",size:30,onMouseEnter:function(){return h(n)},onMouseLeave:function(){return h(null)}})]},t)})),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"content",children:[Object(j.jsx)(G.a.Label,{children:"Additional comment:"}),Object(j.jsx)(G.a.Control,{onChange:function(e){return m(e)},name:"content",value:c,type:"text",placeholder:"Your comment goes here"})]}),Object(j.jsx)(T.a,{variant:"primary",type:"submit",children:"Submit"})]})})})})},ce=n(161),se=n(156),re=n(85),ie=function(e,t){e.id;var n=new g;return Object(j.jsx)(T.a,{onClick:function(e){return function(e){n.deletePlant(e).then((function(e){t.history.push("/")})).catch((function(e){return console.log("error on delete your plant",e)}))}(e)},variant:"primary",type:"button",children:"Delete a plant"})},le=new g,oe=new B,je=function(e,t){var n=e.match.params.id,c=Object(a.useState)(""),s=Object(r.a)(c,2),i=s[0],l=s[1],o=Object(a.useState)(""),d=Object(r.a)(o,2),b=d[0],u=d[1],O=Object(a.useState)(""),h=Object(r.a)(O,2),m=h[0],x=h[1],g=Object(a.useState)(""),p=Object(r.a)(g,2),f=p[0],v=p[1],N=Object(a.useState)(!1),y=Object(r.a)(N,2),C=y[0],S=y[1],_=Object(a.useState)([]),w=Object(r.a)(_,2),k=w[0],I=w[1],U=Object(a.useState)(0),L=Object(r.a)(U,2),F=L[0],P=L[1],D=Object(a.useState)(""),E=Object(r.a)(D,2),z=E[0],B=E[1],R=Object(a.useState)(0),A=Object(r.a)(R,2),W=A[0],Y=A[1],H=Object(a.useState)(!1),J=Object(r.a)(H,2),K=J[0],q=J[1];Object(a.useEffect)((function(){!function(e){le.getPlant(e).then((function(e){l(e.data.plant.name),u(e.data.plant.image),x(e.data.plant.description.size),v(e.data.plant.description.type),S(e.data.plant.description.toxic),I(e.data.plant.description.location),P(e.data.plant.description.temperature),B(e.data.plant.description.watering),Y(e.data.plant.price)})).catch((function(e){return console.log(e)}))}(n)}),[n]);var X=function(e){var t=e.target,n=t.value,a=t.name,c=t.type,s=Object(Q.a)(k);switch("location"===a&&e.target.checked&&s.push(n),"location"!==a||e.target.checked||s.splice(s.indexOf(n),1),"radio"===c&&(n="true"===n),a){case"name":l(n);break;case"image":u(n);break;case"size":x(n);break;case"type":v(n);break;case"toxic":S(n);break;case"location":I(s);break;case"price":Y(n);break;case"temperature":P(n);break;case"watering":B(n)}};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"text-center mt-2 mb-3",children:"Edit your plant"}),Object(j.jsxs)(G.a,{onSubmit:function(t){t.preventDefault(),le.editPlant(n,{name:i,image:b,description:{size:m,type:f,toxic:C,location:k,temperature:F,watering:z},sellerId:e.loggedUser._id,price:W}).then((function(e){l(""),u(""),x(""),v(""),S(!1),I([]),P(0),B(""),Y(0)})).catch((function(e){return console.error(e)}))},children:[Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"name",children:[Object(j.jsx)(G.a.Label,{children:"Name*: "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return X(e)},name:"name",value:i,type:"text",placeholder:"Plant's name"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"image",children:[Object(j.jsx)(G.a.Label,{children:"Image*: "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return function(e){q(!0);var t=new FormData;t.append("imageData",e.target.files[0]),oe.uploadImg(t).then((function(e){q(!1),u(e.data.cloudinary_url)})).catch((function(e){return alert("Error, image not uploaded ")}))}(e)},name:"image",type:"file",placeholder:"Plant's image"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"size",children:[Object(j.jsx)(G.a.Label,{children:"Size*: "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return X(e)},name:"size",value:m,type:"text",placeholder:"Plant's sizes"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"type",children:[Object(j.jsx)(G.a.Label,{children:"Type*: "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return X(e)},name:"type",value:f,type:"text",placeholder:"Plant's type"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"toxic",children:[Object(j.jsx)(G.a.Label,{children:"Is it toxic for animals?*"}),["radio"].map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(G.a.Check,{inline:!0,label:"Yes",name:"toxic",type:"radio",id:"inline-".concat(e,"-1"),value:!0,onChange:function(e){return X(e)}}),Object(j.jsx)(G.a.Check,{inline:!0,label:"No",name:"toxic",type:"radio",id:"inline-".concat(e,"-2"),value:!1,onChange:function(e){return X(e)}})]},"inline-".concat(e))}))]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"location",children:[Object(j.jsx)(G.a.Label,{children:"Location?*"}),["checkbox"].map((function(e){return Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)(G.a.Check,{inline:!0,label:"Indoors",name:"location",type:e,id:"inline-".concat(e,"-1"),onChange:function(e){return X(e)},value:"Indoors"}),Object(j.jsx)(G.a.Check,{inline:!0,label:"Outdoors",name:"location",type:e,id:"inline-".concat(e,"-2"),onChange:function(e){return X(e)},value:"Outdoors"})]},"inline-".concat(e))}))]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"temperature",children:[Object(j.jsx)(G.a.Label,{children:"Temperature*: "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return X(e)},name:"temperature",value:F,type:"number",placeholder:"Temperature"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"watering",children:[Object(j.jsx)(G.a.Label,{children:"Watering*: "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return X(e)},name:"watering",value:z,type:"text",placeholder:"Watering"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"price",children:[Object(j.jsx)(G.a.Label,{children:"Price*: "}),Object(j.jsx)(G.a.Control,{onChange:function(e){return X(e)},name:"price",value:W,type:"number",placeholder:"Price"}),"\u20ac"]}),K&&Object(j.jsx)(M.a,{animtion:"border",variant:"success"}),Object(j.jsx)(T.a,{disabled:K,variant:"primary",type:"submit",children:K?"Loading...":"Submit"})]})]})},de=n(157),be=function e(){var t=this;Object(h.a)(this,e),this.getMessages=function(){return t.instance.get("/")},this.getMessage=function(e){return t.instance.get("/".concat(e))},this.createMessage=function(e){return t.instance.post("/",e)},this.deleteMessage=function(e){return t.instance.delete("/".concat(e))},this.instance=x.a.create({baseURL:"".concat("https://plantb.herokuapp.com/api","/message"),withCredentials:!0})},ue=(n(140),new be),Oe=function(e){var t=e.seller,n=e.loggedUser,c=Object(a.useState)(""),s=Object(r.a)(c,2),i=s[0],l=s[1],o=Object(a.useState)(""),d=Object(r.a)(o,2),b=d[0],u=d[1],O=Object(a.useState)(""),h=Object(r.a)(O,2),m=h[0],x=h[1],g=Object(a.useState)(""),p=Object(r.a)(g,2),f=(p[0],p[1]),v=Object(a.useState)(""),N=Object(r.a)(v,2),y=N[0],C=N[1],S=Object(a.useState)(void 0),_=Object(r.a)(S,2),w=_[0],k=_[1],U=Object(a.useState)(""),L=Object(r.a)(U,2),F=L[0],P=(L[1],Object(a.useState)("")),D=Object(r.a)(P,2),E=D[0];D[1];Object(a.useEffect)((function(){!function(e){x(null===e||void 0===e?void 0:e.username),f(null===e||void 0===e?void 0:e.address),C(null===e||void 0===e?void 0:e.avatar),k(null===e||void 0===e?void 0:e._id)}(t)}),[t]),Object(a.useEffect)((function(){x(null===t||void 0===t?void 0:t.username),f(null===t||void 0===t?void 0:t.address),C(null===t||void 0===t?void 0:t.avatar),k(null===t||void 0===t?void 0:t._id)}),[t,n]);var z=function(e){var t=e.target,n=t.value;switch(t.name){case"content":u(n);break;case"subject":l(n)}};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(G.a,{className:"container send__message",onSubmit:function(e){e.preventDefault();var t=n._id,a=w;ue.createMessage({content:b,subject:i,authorId:t,receiverId:a}).then((function(e){l(""),u("")})).catch((function(e){console.log(e)}))},children:[Object(j.jsx)(I.a,{className:"justify-content-center d-flex",children:Object(j.jsxs)("h6",{className:"text-center",children:["Send a message to ",m," ",Object(j.jsx)("img",{src:y,alt:"User "})]})}),Object(j.jsxs)(I.a,{children:[Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"subject",children:[Object(j.jsx)(G.a.Label,{children:"Subject:* "}),Object(j.jsx)(G.a.Control,{className:"rounded-pill",onChange:function(e){return z(e)},name:"subject",value:i,type:"text",placeholder:"Subject"})]}),Object(j.jsxs)(G.a.Group,{className:"mb-3",controlId:"content",children:[Object(j.jsx)(G.a.Label,{children:"Message:* "}),Object(j.jsx)(G.a.Control,{className:"rounded-pill",onChange:function(e){return z(e)},name:"content",value:b,type:"text",placeholder:"Type here your message"})]}),Object(j.jsx)(T.a,{className:"rounded-pill mt-3",variant:"success",type:"submit",children:"Submit"}),F&&Object(j.jsx)("p",{id:"errorMessage",children:F}),E&&Object(j.jsx)("p",{id:"successMessage",children:E})]})]})})},he=(n(141),function(e){var t=e.seller,n=e.loggedUser,c=Object(a.useState)(!1),s=Object(r.a)(c,2),i=s[0],l=s[1],o=function(){l(!1)};return Object(j.jsxs)(S.a,{className:"d-flex justify-content-center",children:[Object(j.jsxs)(T.a,{variant:"success",block:!0,className:"mt-2 mb-5 rounded-pill",onClick:function(){l(!0)},children:["Reply to ",t.username]}),Object(j.jsxs)(de.a,{show:i,onHide:function(){return o()},children:[Object(j.jsx)(de.a.Header,{closeButton:!0,children:Object(j.jsx)(de.a.Title,{className:"modal__title",children:"What would you like to say?"})}),Object(j.jsx)(de.a.Body,{children:Object(j.jsx)(Oe,{loggedUser:n,seller:t,closeModal:function(){return o()}})})]})]})}),me=(n(68).formatDate,function(e){var t,n,c,s,o,d,b=new g,u=Object(a.useState)(void 0),O=Object(r.a)(u,2),h=O[0],m=O[1],x=e.match.params.id,p=Object(a.useState)({}),f=Object(r.a)(p,2),v=(f[0],f[1]),N=function(e){b.getPlant(e).then((function(e){return m(e.data.plant)})).then((function(){return v(null===h||void 0===h?void 0:h.sellerId)})).catch((function(e){return console.log(e)}))};return Object(a.useEffect)((function(){N(x)}),[]),Object(a.useEffect)((function(){h||N(x)}),[e]),Object(j.jsx)(j.Fragment,{children:h?Object(j.jsx)("div",{children:Object(j.jsxs)(ce.a,{style:{width:"18rem"},children:[Object(j.jsx)(ce.a.Img,{variant:"top",src:h.image}),Object(j.jsxs)(ce.a.Body,{children:[Object(j.jsx)(ce.a.Title,{children:h.name}),Object(j.jsx)(ce.a.Text,{children:"Some quick example text to build on the card title and make up the bulk of the card's content."})]}),Object(j.jsxs)(se.a,{className:"list-group-flush",children:[Object(j.jsxs)(re.a,{children:["Price:",h.price]}),h.sellerId.address&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(re.a,{children:["City: ",h.sellerId.address.split(",")]})}),h.description.size&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(re.a,{children:["Size: ",h.description.size]})}),h.description.type&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(re.a,{children:["Type: ",h.description.type]})}),h.description.toxic&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(re.a,{children:["Toxic: ",h.description.toxic]})}),h.description.temperature&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(re.a,{children:["Temperature: ",h.description.temperature]})}),h.description.watering&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(re.a,{children:["Watering: ",h.description.watering]})}),h.delivery&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(re.a,{children:["Delivery time: ",h.delivery," days~"]})}),Object(j.jsx)("div",{children:Object(j.jsx)(j.Fragment,{children:"Admin"===(null===(t=e.loggedUser)||void 0===t?void 0:t.role)&&Object(j.jsx)(ie,Object(i.a)({id:x},e))})}),Object(j.jsx)("div",{children:Object(j.jsx)(j.Fragment,{children:(null===(n=e.loggedUser)||void 0===n?void 0:n._id)===h.sellerId._id&&Object(j.jsxs)(S.a,{children:[Object(j.jsx)(ie,Object(i.a)({sellerDetails:h.sellerId},e)),Object(j.jsx)(l.b,{className:"btn bg-success",to:"/edit-plant/".concat(x),children:"Edit plant"})]})})}),e.loggedUser?Object(j.jsxs)("h2",{children:[" Hello ",e.loggedUser.username," "]}):Object(j.jsx)("div",{children:Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("p",{children:[Object(j.jsx)(l.b,{to:"/login",children:"Login"})," in order to see our seller"]})})}),Object(j.jsx)(j.Fragment,{children:e.loggedUser&&(null===(c=e.loggedUser)||void 0===c?void 0:c.username)!==h.sellerId.username&&Object(j.jsxs)("div",{children:[Object(j.jsx)("hr",{}),Object(j.jsx)(ce.a.Img,{variant:"top",src:null===(s=h.sellerId)||void 0===s?void 0:s.avatar}),Object(j.jsx)(re.a,{children:Object(j.jsxs)("h3",{children:["Name: ",null===(o=h.sellerId)||void 0===o?void 0:o.username]})}),Object(j.jsx)(re.a,{children:Object(j.jsxs)("h4",{children:["Role: ",null===(d=h.sellerId)||void 0===d?void 0:d.role]})}),Object(j.jsxs)(ce.a.Body,{children:[Object(j.jsx)(he,Object(i.a)(Object(i.a)({},e),{},{seller:h.sellerId})),Object(j.jsx)(ce.a.Link,{href:"#",children:"Another Link"})]})]})})]})]})}):Object(j.jsx)("p",{children:"Loading..."})})}),xe=(n(142),function(e){var t=new g,n=new p,c=Object(a.useState)([]),s=Object(r.a)(c,2),i=s[0],o=s[1],d=Object(a.useState)(""),b=Object(r.a)(d,2),u=b[0],O=b[1];console.log(u),Object(a.useEffect)((function(){t.getPlants().then((function(e){o(e.data)})).catch((function(e){return console.log("Error while trying to get plants list",e)}))}),[]),Object(a.useEffect)((function(){O(e.loggedUser)}),[e.loggedUser]);return Object(j.jsx)(j.Fragment,{children:i?Object(j.jsxs)(S.a,{className:"plantslist",children:[Object(j.jsx)("h1",{className:"text-center",children:"Latest plants"}),Object(j.jsx)(I.a,{children:i.map((function(t){return Object(j.jsxs)(U.a,{xs:12,sm:6,lg:4,children:[Object(j.jsx)("div",{className:"plantslist_imagecontainer",children:Object(j.jsx)("img",{alt:"plant's pic",src:t.image})}),Object(j.jsx)("p",{children:t.name}),Object(j.jsxs)("p",{children:[t.price,"\u20ac"]}),Object(j.jsxs)(I.a,{children:[Object(j.jsx)(U.a,{xs:12,sm:12,lg:6,className:"d-flex justify-content-center",children:Object(j.jsx)(l.b,{to:"/plant/".concat(t._id),className:"btn btn-success rounded-pill",children:"See details"})}),Object(j.jsx)(U.a,{className:"d-flex justify-content-center",xs:12,sm:12,lg:6,children:Object(j.jsxs)("button",{onClick:function(){return a=t._id,void n.editCart(u.cart,a).then((function(t){console.log(t),e.refreshTotal()})).catch((function(e){return console.log(e)}));var a},className:"btn btn-outline-success rounded-pill",type:"submit",children:[Object(j.jsx)(w.a,{})," Add to cart"]})})]}),Object(j.jsx)("hr",{className:"mt-5 mb-5"})]})}))})]}):Object(j.jsx)("p",{children:"Loading..."})})}),ge=(n(143),n(144),new p),pe=function(e){var t=e.userCart,n=e.history,c=Object(a.useState)(""),s=Object(r.a)(c,2),i=(s[0],s[1],Object(a.useState)("")),o=Object(r.a)(i,2),d=(o[0],o[1]);Object(a.useEffect)((function(){d(null===t||void 0===t?void 0:t._id)}),[t]);return Object(j.jsx)(j.Fragment,{children:null===t||void 0===t?void 0:t.items.map((function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"cart",children:[Object(j.jsx)("div",{className:"cartitem__image",children:Object(j.jsx)("img",{src:e.image,alt:"User "})}),Object(j.jsx)(l.b,{to:"/product/".concat(111),className:"cartitem__name",children:Object(j.jsx)("p",{children:e.name})}),e.description.type&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(re.a,{children:["Type: ",e.description.type]})}),e.description.size&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(re.a,{children:["Size: ",e.description.size]})}),e.description.temperature&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(re.a,{children:["Temperature: ",e.description.temperature]})}),e.description.watering&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(re.a,{children:["Watering: ",e.description.watering]})}),Object(j.jsx)("button",{onClick:function(){return function(e,t){console.log(t),ge.removeItem(e,t).then((function(e){console.log("element just drop off the cart.",e),n.push("/plants")})).catch((function(e){return console.log(e)}))}(t._id,e._id)},children:Object(j.jsx)("i",{className:"fas fa-trash",children:"Remove Item "})})]})})}))})},fe=new p,ve=function(e){var t=Object(a.useState)(void 0),n=Object(r.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)("props"),d=Object(r.a)(o,2),b=d[0],u=d[1];console.log(c),Object(a.useEffect)((function(){u(e.loggedUser.cart)}),[e.loggedUser]),Object(a.useEffect)((function(){fe.getCart(b).then((function(e){s(e.data)}))}),[b]);var O=function(e){var t=null===e||void 0===e?void 0:e.items.reduce((function(e,t){return e+t.price}),0);return Object(j.jsxs)("p",{children:[t,"\u20ac"]})};return Object(a.useEffect)((function(){O(c)}),[]),Object(j.jsxs)("div",{className:"cart",children:[Object(j.jsxs)("div",{className:"cart__left",children:[Object(j.jsx)("h2",{children:"Shopping cart"}),Object(j.jsx)(pe,Object(i.a)({userCart:c},e))]}),Object(j.jsxs)("div",{className:"cart__right",children:[Object(j.jsxs)("div",{className:"cart__info",children:[Object(j.jsxs)("p",{children:["Subtotal ",null===c||void 0===c?void 0:c.items.length," items"]}),Object(j.jsx)("p",{children:O(c)})]}),Object(j.jsx)("div",{children:Object(j.jsx)(l.b,{to:"/checkout/".concat(null===c||void 0===c?void 0:c._id),children:Object(j.jsx)("button",{children:"Proceed to checkout"})})})]})]})},Ne=(n(145),n(68).formatDate),ye=function(e){var t=new be,n=Object(a.useState)(null),c=Object(r.a)(n,2),s=c[0],l=c[1],o=e.loggedUser,d=e.match.params.id,b=function(e){t.getMessages({authorId:e}).then((function(e){l(null===e||void 0===e?void 0:e.data)})).catch((function(e){return console.log(e)}))};return Object(a.useEffect)((function(){return b()}),[b,d]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(S.a,{className:"messages__container d-flex justify-content-center",children:Object(j.jsx)(I.a,{className:"justify-content-center d-flex",children:null===s||void 0===s?void 0:s.map((function(t){return Object(j.jsx)(j.Fragment,{children:o._id===t.receiverId?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(U.a,{className:"message__card m-2",xs:11,sm:5,lg:3,children:[Object(j.jsxs)(I.a,{className:"mt-2",children:[Object(j.jsx)(U.a,{xs:6,sm:6,lg:6,children:Object(j.jsx)("img",{className:"messages__avatar",src:t.authorId.avatar,alt:"User "})}),Object(j.jsxs)(U.a,{children:[Object(j.jsx)("h6",{children:Object(j.jsx)("strong",{children:t.authorId.username})}),Object(j.jsxs)("p",{children:["on ",Object(j.jsx)("strong",{children:Ne(t.createdAt)})]})]}),Object(j.jsx)("hr",{})]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Subject:"})," ",t.subject]}),Object(j.jsx)("hr",{}),Object(j.jsx)("p",{children:t.content}),Object(j.jsx)("div",{className:"d-grid gap-2",children:Object(j.jsx)(he,Object(i.a)(Object(i.a)({},e),{},{seller:t.authorId}))})]})}):null})}))})}),Object(j.jsx)("p",{className:"no__message",children:"No more messages found"})]})},Ce=new p,Se=new g,_e=function(e){var t=Object(a.useState)(void 0),n=Object(r.a)(t,2),c=(n[0],n[1]),s=Object(a.useState)(""),i=Object(r.a)(s,2),l=(i[0],i[1],Object(a.useState)("")),o=Object(r.a)(l,2),d=o[0],b=o[1],u=Object(a.useState)([]),O=Object(r.a)(u,2),h=(O[0],O[1]),m=Object(a.useState)([]),x=Object(r.a)(m,2),g=x[0],p=(x[1],Object(a.useState)("")),f=Object(r.a)(p,2),v=f[0];f[1];return console.log("esto es cartSellerId",v),console.log("esto es plants seller id",g),Object(a.useEffect)((function(){Se.getPlants().then((function(e){h(e.data)}))}),[d]),Object(a.useEffect)((function(){b(e.loggedUser.cart)}),[e.loggedUser]),Object(a.useEffect)((function(){Ce.getCart(d).then((function(e){c(e.data)}))}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("h1",{className:"mt-5 text-center",children:"Redirect to your Bank account website..."})})},we=function(e){var t=e.storeUser,n=e.loggedUser,a=e.refreshTotal;return Object(j.jsxs)(ee.d,{children:[Object(j.jsx)(ee.b,{exact:!0,path:"/",render:function(e){return Object(j.jsx)(E,{})}}),Object(j.jsx)(ee.b,{exact:!0,path:"/new-plant",render:function(e){return n?Object(j.jsx)($,Object(i.a)(Object(i.a)({},e),{},{loggedUser:n})):Object(j.jsx)(ee.a,{to:"/login"})}}),Object(j.jsx)(ee.b,{exact:!0,path:"/new-plant",render:function(e){return Object(j.jsx)($,Object(i.a)(Object(i.a)({},e),{},{loggedUser:n}))}}),Object(j.jsx)(ee.b,{exact:!0,path:"/checkout/:id",render:function(e){return n?Object(j.jsx)(_e,Object(i.a)(Object(i.a)({},e),{},{loggedUser:n})):Object(j.jsx)(ee.a,{to:"/login"})}}),Object(j.jsx)(ee.b,{exact:!0,path:"/new-comment",render:function(e){return n?Object(j.jsx)(ae,Object(i.a)(Object(i.a)({},e),{},{loggedUser:n})):Object(j.jsx)(ee.a,{to:"/login"})}}),Object(j.jsx)(ee.b,{path:"/new-message",render:function(e){return n?Object(j.jsx)(Oe,Object(i.a)(Object(i.a)({},e),{},{loggedUser:n})):Object(j.jsx)(ee.a,{to:"/login"})}}),Object(j.jsx)(ee.b,{exact:!0,path:"/register",render:function(e){return Object(j.jsx)(J,Object(i.a)({storeUser:t},e))}}),Object(j.jsx)(ee.b,{exact:!0,path:"/login",render:function(e){return Object(j.jsx)(z,Object(i.a)({storeUser:t},e))}}),Object(j.jsx)(ee.b,{exact:!0,path:"/new-plant",render:function(e){return Object(j.jsx)($,Object(i.a)(Object(i.a)({},e),{},{loggedUser:n}))}}),Object(j.jsx)(ee.b,{path:"/plant/:id",render:function(e){return Object(j.jsx)(me,Object(i.a)(Object(i.a)({},e),{},{loggedUser:n}))}}),Object(j.jsx)(ee.b,{exact:!0,path:"/new-comment",render:function(e){return Object(j.jsx)(ae,Object(i.a)(Object(i.a)({},e),{},{loggedUser:n}))}}),Object(j.jsx)(ee.b,{exact:!0,path:"/login",render:function(e){return Object(j.jsx)(z,Object(i.a)({storeUser:t},e))}}),Object(j.jsx)(ee.b,{path:"/edit-plant/:id",render:function(e){return Object(j.jsx)(je,Object(i.a)(Object(i.a)({},e),{},{loggedUser:n}))}}),Object(j.jsx)(ee.b,{path:"/plants",render:function(e){return Object(j.jsx)(xe,Object(i.a)(Object(i.a)({},e),{},{loggedUser:n,refreshTotal:a}))}}),Object(j.jsx)(ee.b,{path:"/plants/:username",render:function(e){return Object(j.jsx)(xe,Object(i.a)(Object(i.a)({},e),{},{loggedUser:n}))}}),Object(j.jsx)(ee.b,{path:"/cart",render:function(e){return Object(j.jsx)(ve,Object(i.a)(Object(i.a)({},e),{},{loggedUser:n}))}}),Object(j.jsx)(ee.b,{path:"/message-list/:id",render:function(e){return Object(j.jsx)(ye,Object(i.a)(Object(i.a)({},e),{},{loggedUser:n}))}}),null!==n?Object(j.jsx)(ee.b,{path:"/".concat(n.username),render:function(e){return Object(j.jsx)(X,Object(i.a)(Object(i.a)({},e),{},{loggedUser:n}))}}):Object(j.jsx)(ee.b,{path:"/",render:function(){return Object(j.jsx)(ee.a,{to:"/login"})}})]})},ke=new v,Ie=function(){var e=Object(a.useState)(void 0),t=Object(r.a)(e,2),n=t[0],c=t[1],s=function(e){return c(e)},i=Object(a.useState)(!1),l=Object(r.a)(i,2),o=l[0],d=l[1];return Object(a.useEffect)((function(){return console.log(o)})),Object(a.useEffect)((function(){if(void 0===n){ke.isloggedin().then((function(e){return s(e.data)})).catch((function(){return s(null)}))}}),[n]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(k,{loggedUser:n,storeUser:s,refreshTotal:o}),void 0!==n?Object(j.jsx)(we,{storeUser:s,loggedUser:n,refreshTotal:function(){return d(!o)}}):Object(j.jsx)("p",{children:"Loading..."})]})},Ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,162)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};n(146);s.a.render(Object(j.jsx)(l.a,{children:Object(j.jsx)(Ie,{})}),document.getElementById("root")),Ue()},42:function(e,t,n){},68:function(e,t){e.exports={formatDate:function(e){var t=new Date(e),n=""+(t.getMonth()+1),a=""+t.getDate(),c=t.getFullYear();return n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),[c,n,a].join("-")},formatSignDate:function(e){var t=new Date,n=""+(t.getMonth()+1),a=""+t.getDate(),c=t.getFullYear()-18;return n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),[c,n,a].join("-")}}},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){}},[[147,1,2]]]);
//# sourceMappingURL=main.6091f53c.chunk.js.map